(this["webpackJsonppagination-table"]=this["webpackJsonppagination-table"]||[]).push([[0],{11:function(t,e,n){},14:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(5),s=n.n(c),i=(n(11),n(4)),o=n.n(i),l=n(6),u=n(2),f=n(0);function b(t){var e=t.pageData,n=t.fieldsNames,r=t.classPrefix,a="".concat(r,"__rows"),c="".concat(r,"__rows__row"),s="".concat(r,"__row__column");return Object(f.jsx)("div",{className:a,children:e.map((function(t,e){return Object(f.jsx)("div",{className:c,children:n.map((function(e,n){var r;return Object(f.jsx)("div",{className:"".concat(s," ").concat("string"===typeof t[e]?"".concat(s,"_string"):"".concat(s,"_number")),children:null===(r=t[e])||void 0===r?void 0:r.toString()},"column-".concat(n))}))},"row-".concat(e))}))})}function j(t){var e=t.text,n=t.setFilter,a=t.classPrefix,c=Object(r.useState)(""),s=Object(u.a)(c,2),i=s[0],o=s[1],l="".concat(a,"__filter"),b="".concat(a,"__filter__input"),j="".concat(a,"FilterInput"),d="".concat(a,"__filter__label"),g="".concat(a,"__filter__hint");return e?Object(f.jsxs)("div",{className:l,children:[Object(f.jsx)("label",{className:d,htmlFor:j,children:e}),Object(f.jsx)("input",{className:b,type:"text",id:j,value:i,onChange:function(t){o(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),n(i))}}),Object(f.jsx)("p",{className:g,children:'Try "text" or "field1:text; field2:text" to find'})]}):null}function d(t){var e=t.text,n=t.dataNumber,r=t.disabled,a=void 0!==r&&r,c=t.className;return Object(f.jsx)("button",{className:c,"data-number":n,disabled:a,children:e})}function g(t){var e=t.pageEnter,n=t.pagesRange,a=t.className,c=Object(r.useRef)(null),s=Object(r.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],b=Object(r.useState)(""),j=Object(u.a)(b,2),d=j[0],g=j[1],m="".concat(a,"__input"),x="".concat(a,"__button");return Object(f.jsxs)(f.Fragment,{children:[o?Object(f.jsx)("input",{className:m,autoFocus:!0,size:5,type:"text",onChange:function(t){g(t.currentTarget.value)},onKeyDown:function(t){if("Enter"===t.key){t.preventDefault();var r,a=Number(d);if(!Number.isNaN(a)&&n[0]<=a&&a<=n[1]&&(e(a),l(!1),g("")),c.current)null===(r=c.current)||void 0===r||r.click()}},onBlur:function(){l(!1)},value:d,"data-testid":"pageInput"}):Object(f.jsx)("button",{className:x,onClick:function(t){t.stopPropagation(),l(!0)},title:"enter page number",children:"..."}),Object(f.jsx)("a",{ref:c,href:"#table-nav",style:{display:"none"},children:"link"})]})}function m(t){var e=t.lastPage,n=t.currentPage,a=t.setPage,c=t.classPrefix,s=Object(r.useRef)(null),i=Math.max(n-2,1),o=Math.min(n+2,e),l="".concat(c,"__navigation"),u="".concat(c,"__navigation__numberButton"),b="".concat(c,"__navigation__pageInput"),j="".concat(c,"__navigation__direction");return 0===e?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("a",{ref:s,href:"#table-nav",style:{display:"none"},children:"link"}),Object(f.jsxs)("div",{className:l,onClick:function(t){var e;if("BUTTON"===(null===(e=t.target)||void 0===e?void 0:e.tagName)){var n;if(s.current)null===(n=s.current)||void 0===n||n.click();var r=Number(t.target.dataset.number);a(r)}},id:"table-nav",children:[Object(f.jsx)(d,{text:"Previous",dataNumber:n-1,disabled:1===n,className:j}),1===i?null:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d,{text:"1",dataNumber:1,className:u}),i-1>2&&Object(f.jsx)(g,{pageEnter:a,pagesRange:[2,i-1],className:b}),i-1===2&&Object(f.jsx)(d,{text:"2",dataNumber:2,className:u})]}),function(){for(var t=[],e=i;e<=o;e++){var r=e===n?" ".concat(u,"_current"):"";t.push(Object(f.jsx)(d,{className:"".concat(u).concat(r),text:e.toString(),dataNumber:e,disabled:e===n},e.toString()))}return Object(f.jsx)(f.Fragment,{children:t})}(),o===e?null:Object(f.jsxs)(f.Fragment,{children:[e-o>2&&Object(f.jsx)(g,{pageEnter:a,pagesRange:[o+1,e-1],className:b}),e-o===2&&Object(f.jsx)(d,{text:(e-1).toString(),dataNumber:e-1,className:u}),Object(f.jsx)(d,{text:e.toString(),dataNumber:e,className:u})]}),Object(f.jsx)(d,{text:"Next",dataNumber:n+1,disabled:n===e,className:j})]})]})}function x(t,e){return t<e?-1:t>e?1:0}function v(t){var e=t;var n=Object(r.useReducer)((function(t,n){var r=t.map((function(t){return Object.assign({},t)}));if(n.filter&&(r=function(t,e){var n=Array.from(t,(function(t){return Object.assign({},t)}));return 0===e.length||e.sort((function(t,e){return e.length-t.length})).forEach((function(t){t.length>1?n=n.filter((function(e){return t[1].split(/[ \t]+/).every((function(n){return e[t[0]]&&e[t[0]].toString().toLowerCase().includes(n)}))})):1===t.length&&(n=n.filter((function(e){var n=Object.values(e);return t[0].split(/[ \t]+/).every((function(t){return n.some((function(e){return e.toString().toLowerCase().includes(t)}))}))})))})),n}(e,n.filter)),n.sort){var a=n.sort,c=a.direction,s=a.fieldName;r.sort((function(t,e){return"asc"===c?x(t[s],e[s]):x(e[s],t[s])}))}return r}),t),a=Object(u.a)(n,2);return[a[0],a[1]]}function O(t,e){var n=v(t),a=Object(u.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(null),o=Object(u.a)(i,2),l=o[0],f=o[1],b=function(t){return t.length}(c),j=Object(r.useState)(1),d=Object(u.a)(j,2),g=d[0],m=d[1],x=function(t,e,n){return Math.min((t-1)*n+1,e)}(g,b,e),O=function(t,e,n){return Math.min(t*n,e)}(g,b,e),h=function(t,e){return Math.ceil(t/e)}(b,e);return[{data:function(t,e,n){return t.slice(e-1,n)}(c,x,O),number:g,from:x,to:O,length:b,pagesLength:h},function(t){var e,n=t.nextPageNumber,r=t.sort,a=t.filter,c={};if(r||void 0!==a){if(void 0!==a){var i=(e=a||"")?e.toLowerCase().split(/;+/).map((function(t){return t.trim()})).filter((function(t){return t})).map((function(t){return t.split(/:+/).map((function(t){return t.trim()}))})).filter((function(t){return 1===t.length&&t[0]||t.length>1&&t[0]&&t[1]})):[];c.filter=i,l&&(c.sort=l)}r&&(f(r),c.sort=r),s(c),m(1)}else n&&n!==g&&m(n)}]}function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function p(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var N=r.createElement("polygon",{points:"0,16 5,0 10,16"});function _(t,e){var n=t.title,a=t.titleId,c=p(t,["title","titleId"]);return r.createElement("svg",h({className:"tableSortMarker",width:10,height:16,fill:"none",stroke:"black",viewBox:"0 0 10 16",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,N)}var y=r.forwardRef(_);n.p;function w(){return(w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function P(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var S=r.createElement("polygon",{points:"0,0 5,16 10,0"});function F(t,e){var n=t.title,a=t.titleId,c=P(t,["title","titleId"]);return r.createElement("svg",w({className:"tableSortMarker",width:10,height:16,fill:"none",stroke:"black",viewBox:"0 0 10 16",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,S)}var T=r.forwardRef(F);n.p;function k(t){var e=t.fieldsNames,n=t.setSort,a=t.classPrefix,c=Object(r.useState)(null),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(null),b=Object(u.a)(l,2),j=b[0],d=b[1],g="".concat(a,"__header"),m="".concat(a,"__header__columnButton");return Object(f.jsx)("div",{className:g,onClick:function(t){var e=t.target;if(e instanceof HTMLButtonElement){var r=e.value,a="asc";i===r?d(a="asc"===j?"desc":"asc"):(o(r),d("asc")),n({fieldName:r,direction:a})}},children:e.map((function(t,e){var n=t.toLowerCase(),r=i===n?"asc"===j?"^":"v":"";return Object(f.jsxs)("button",{className:m,value:n,children:[t,"^"===r&&Object(f.jsx)(y,{}),"v"===r&&Object(f.jsx)(T,{})]},e)}))})}function E(t){var e=t.userText,n=t.text,r=t.className;return Object(f.jsx)(f.Fragment,{children:e&&Object(f.jsxs)("div",{className:r,children:[e," ",n]})})}function L(t){var e,n=t.data,r=t.fieldsNames,a=t.maxPageRows,c=void 0===a?50:a,s=t.className,i=void 0===s?"table":s,o=t.textForFilterLabel,l=t.textForDataLength,d=t.textForFromToDataRows,g=t.textForPageNumber,x=O(n,c),v=Object(u.a)(x,2),h=v[0],p=v[1],N=r.map((function(t){return t.toLowerCase()}));return Object(f.jsxs)("div",{className:i,onTouchCancel:function(t){e=null},onTouchStart:function(t){t.targetTouches.length>1?e=null:1===t.targetTouches.length&&(e=t.targetTouches[0].clientX)},onTouchEnd:function(t){if(console.log("touch end",e),e){var n=t.targetTouches[0].clientX;Math.abs(n-e)>50&&(e<n&&h.number>1?p({nextPageNumber:h.number-1}):e>n&&h.number<h.pagesLength&&p({nextPageNumber:h.number+1}))}e=null},children:[Object(f.jsx)(j,{text:o,setFilter:function(t){return p({filter:t})},classPrefix:i}),Object(f.jsx)(E,{className:"".concat(i,"__lengthText"),userText:l,text:h.length.toString()}),Object(f.jsx)(E,{className:"".concat(i,"__rangeText"),userText:d,text:"(".concat(h.from," - ").concat(h.to,")")}),Object(f.jsx)(E,{className:"".concat(i,"__pageNumberText"),userText:g,text:h.number.toString()}),Object(f.jsx)(k,{fieldsNames:r,setSort:function(t){return p({sort:t})},classPrefix:i}),Object(f.jsx)(b,{pageData:h.data,fieldsNames:N,classPrefix:i}),Object(f.jsx)(m,{currentPage:h.number,lastPage:h.pagesLength,setPage:function(t){return p({nextPageNumber:t})},classPrefix:i})]})}n(14);var C=function(){var t=Object(r.useState)([]),e=Object(u.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(!1),s=Object(u.a)(c,2),i=s[0],b=s[1];return Object(r.useEffect)((function(){function t(){return(t=Object(l.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,fetch("".concat(".","/data/rating_records.json"));case 3:if(!(e=t.sent).ok){t.next=12;break}return t.t0=a,t.next=8,e.json();case 8:t.t1=t.sent,(0,t.t0)(t.t1),t.next=13;break;case 12:console.log("Could not load data");case 13:b(!1);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),i?Object(f.jsx)("div",{children:"Loading data..."}):Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(L,{data:n,fieldsNames:["Title","Rating","Year","Duration","Genres"],maxPageRows:50,textForDataLength:"Records found:",textForFilterLabel:"Filter:"})})},R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(C,{})}),document.getElementById("root")),R()}},[[15,1,2]]]);
//# sourceMappingURL=main.3f80bd13.chunk.js.map